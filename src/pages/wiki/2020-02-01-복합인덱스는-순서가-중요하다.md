---
templateKey: wiki
title: 복합인덱스는 순서가 중요하다
image: /img/default.jpeg
date: 2020-02-01T00:40:15.196Z
---

composite index로 pk를 걸 때 조회에 따라 컬럼 순서를 조정해야 한다. column\_a + column\_b + column\_c 로 순서로 복합키를 걸었는데, column\_a와 c로 where 절을 돌리면 인덱스가  타지 않는다.

select \* from sth where column\_a between A and B and column\_b = C 에서 between 문보다 column\_b = C 문이 범위를 좁힐 수 있으므로 column\_a 와 column\_b 를 복합 pk 를 만들 때 column\_b 가 먼저 위치하는 것이 좋다.

여러개의 속성이 있을 때 앞쪽에 위치한 속성의 값이 비교자로 있어야 좋은 효율을 나타낼 수 있다. 앞쪽에 위치한 속성 값이 가급적 = 또는 최소한 범위가 들어와야 인덱스를 이용할 수 있는 것이다.

### reference

* [참고](https://dba.stackexchange.com/questions/48458/does-the-order-of-columns-in-a-pk-index-matter)
* [**아는만큼 보이는 데이터베이스 설계와 구축**](http://www.yes24.com/Product/Goods/3000991)

